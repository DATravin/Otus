# Антифрод система поиска фродовых транзакций

# Цель проекта:

Разработать систему, которая оценивает каждую транзакцию в режиме онлайн на предмет ее мошеннической природы и блокирует, в случае признания транзакции таковой (конкретность).
Данная система должна работать в режиме оффлайн (т.е. оценка раз в сутки) через 90 дней после начала разработки с установленными KPI. Данный результат будет считаться MVP. На этапе MVP допускается минимальная автоматизация (запуск вручную раз в сутки). Требования к автоматизации переобучения так же нет.
В случае признания алгоритма приемлемым согласно KPI (ниже) за последующие 90 дней требуется вывести систему в режим онлайн с автоматизацией всего инференса. 
Цель системы: снижение уровня потерь от мошеннических операций минимум до уровня конкурентов (достижимость и релевантность) 

# Метрики проекта

KPI для данной системы состоят из системы метрик:

## Уровень I (Бизнес-метрики)

### Метрика 1.1.
Объем средств, которые были «заморожены», т.е. это сумма средств в транзакциях, которые были остановлены. Benchmark: сейчас мы теряем 500К в месяц. Или 16К в день. Необходимо сократить объем потерь не менее, чем на 80%. Т.е. Объем потерь должен сократиться до 100К в месяц. Метрика показывает конечный положительный бизнес эффект (релевантность) 

### Метрика 1.2. 
% ошибочных блокировок (будем считать, что клиенты будут жаловаться на ложные блокировки) не должен превышать 5%. Метрика позволяет оценивать бизнес-риски инференса системы (релевантность). С учетом потенциального объема мошеннических блокировок, количество ложно блокированных транзакций не должно превышать 3500. 

### Метрика 1.3.
% транзакций, которые скорятся в течение 10 секунд, после совершения составляет не менее 95%, и не менее 99% в течение 1 минуты. Так мы будет оценивать производительность нашей онлайн системы. (релевантность)

## Уровень II (DS-метрики)

Данные метрики считаются с лагом в 7 дней после проведения транзакций. На данный момент мы будет понимать, какие транзакции были легальные, а какие мошеннические.
Тогда в качестве метрик будет использовать следующие:

### Метрика 2.1. Recall (охват)

Метрика показывает процент охвата мошеннических операций нашей моделью.
Методика подсчета:
Количество заблокированных мошеннических транзакций (TP) / (Количество заблокированных мошеннических транзакций (TP) + не заблокированных мошеннических транзакций (TN) )
Recall = ТP / (TP+TN)
Целевое значение >=0.8
Метрика связана с бизнес-метрикой 1.1.

### Метрика 2.2. Precision (точность)

Оценивает ошибку ложных блокировок.
Методика расчета:
Количество заблокированных мошеннических транзакций (TP) / ( Количество заблокированных мошеннических транзакций (TP) + ложно заблокированных легальных транзакций (FP) )
Метрика связана с бизнес-метрикой 1.2.
Precidion = TP / (TP + FP)
Целевое значение >=0.95

### Метрика 2.3. F1-score

Метрика f1-score (среднее гармоническое Recall и Precision), как метрику, которая мы будет оптимизировать в моделях.
Метрика связана с бизнес-метриками 1.1 и 1.2.
Методика:
F1 = 2 * (Precision * Recall) / (Precision + Recall)
ФОРМУЛА:
Целевое значение >= 0,86 (по формуле 2x0.95x0.8 / (0.95+0.8) )


